游戏逻辑：



资源导入

首先我们把核心元素做出来：场景背景，植物，僵尸

植物预制体，僵尸预制体，添加相应组件

植物，僵尸的父类脚本

植物类->豌豆射手类，

战斗逻辑：发射豌豆，攻击判定，僵尸扣血，死亡

僵尸移动，攻击，植物死亡

接下来添加战斗表现：动画

植物的待机，攻击，受击，死亡动画

僵尸的移动，攻击，受击，死亡动画

动画状态机，控制状态转移

接下来是植物怎么种，僵尸怎么生成

植物：UI卡片类，实现点击->附着到鼠标->再次点击种植

植物种植位置限制->地块制作，布置->写地块生成器快速生成地块阵列

植物的阳光花费，种植冷却 -> UI卡片的状态控制以及效果显示



最后添加音效













卡牌Snapping状态：

PointerManager负责维护当前选中的Card，和Snapping时的视觉表现等等

Card实现snapping时点击的具体行为OnClickWhileSnapping

点击地块时由PointerManager调用Card的OnClickWhileSnapping

卡片：

点击->跟随鼠标->右键取消，左键种植，如果点击一个不同的植物则切换到该植物

当PointerManager检测到鼠标位于可种植的Grid之上时，不再跟随鼠标而是显示到将种植的位置上



如果点击失效：检查RaycastTarget 是否为true

父容器的Blocks Raycasts是否为true



植物：



僵尸：

死亡动画：根据当前状态播放不同的死亡动画

在死亡动画的最后一帧添加事件销毁gameobject

头



地块：

负责识别点击后种植，铲除
